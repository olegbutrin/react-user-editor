# React User Editor

Демо SPA приложения для управления данными пользователей

Написано по [тестовому заданию](https://docs.google.com/document/d/1PFafdSZ2PcQLRtAyotvIupDmpGZ_6DnN9Q1kk0ogJm4/edit#heading=h.221ytfge2btv) на вакансию frontend-разработчика.

Тестовая версия приложения на GitHub Pages: [react-user-editor](https://olegbutrin.github.io/react-user-editor)

## Frontend

Приложение организовано в виде SPA (Single Page Application).

В приложении доступны две страницы:

+ Страница фрормы входа
+ Страница со списком пользователей

Страница списка пользователей доступна только после авторизации на странице входа. Имя пользователя и пароль отправляются на сервер авторизации, который возвращает токен доступа при успешной проверке имени пользователя и пароля. Во время выполнения запроса в форме фхода отображается спиннер. Если имя пользователя и пароль на прошли проверку на сервере, форма входа меняет цвет на красный.

При успешном входе на сервер отправляется запрос на получение списка пользователей. Во время запроса в заголовке страницы отображается спиннер. При успешном получении данных на странице отображается список пользователей.

Данные пользователя из списка можно редактировать в отдельной форме. При сохранении данных пользователя они одновременно сохраняются в store и загружаются на сервер.

Если при доступе к серверу возникает ошибка, описание ошибки отображается внизу экарана.

## Управление пользователями

При успешном входе происходит автоматический переход на страницу списка пользователей. На этой странице есть заголовок с инструментами и список карточек пользователей.

Карточка каждого пользователя имеет две кнопки: `Edit User` и `Remove User`. Первая кнопка открывает модальное окно редактирования данных пользователя, вторая (двухпозиционная) используется для удаления.\
Фактически данные не удаляются; пользователь отмечается как удаленный и не отображается в списке.\
После редактирования или удаления данные пользователя сразу же синхронизируются с сервером через вызов API-функции.

Для создания нового пользователя используется кнопка `+` в заголовке списка пользователей.

Для поиска в списке пользователей используется текстовое поле. При вводе текста в карточках пользователей подсвечиваются поля, в которых есть введенный текст. При нажатии `Enter`происходит скроллирование к ближайшей карточке пользователя за пределеами экрана, содержащей найденный текст.

Для ручного обновления списка пользователей с сервера используется кнопка обновления данных.

## Backend

В качестве бакенд-сервера используется вебсервис и данные из [Google Spreadsheet:](https://docs.google.com/spreadsheets/d/1p_DQs6CFaEwCgsFDUu3Z_Ks5fzs3eu0pCZB7nAXZI1w/edit?usp=sharing).

Для обхода потенциальных проблем с CORS при обращении к API используются только GET запросы с параметрами, которые возвращают объекты JSON. Такое подход накладывает определенные ограничения на количество передаваемых данных, поэтому поток данных в основном однонаправленный: от сервера к клиенту.

### Авторизация

На сервере используется авторизация с использованием токенов, ограниченных по времени использования. Список пользователей с паролями и токенами хранится в таблице Google. Каждое обращение к серверу после успешной авторизации продляет время жизни токена. Потенциально можно реализовать генерацию и возвращение нового токена при каждом обращении к серверу. Если токен просрочен (по-умолчанию старше 20 минут), то авторизация на клиенте сбрасывается.

Имя пользователя и пароль по-умолчанию: `user` и `pass` соответственно.

### Получение списка пользователей

Для получения списка пользователей используется действительный токен. Если токен проходит проверку, возвращается весь список пользователей.

### Обновление данных пользователя

Для обновления данных пользователя требуется действительный токен.

## TODO

Разработка приложения проходила при плотном ограничении по времени, поэтому в организации есть недочеты и неоптимальные решения.\
Желательно сделать:

+ Более удобную декомпозицию объектов
+ Синхронизировать стили в компонентах
+ Добавить роутинг с защищенными маршрутами и разнообразным отображением пользователей (фильтрация, пагинация, сортировка, и т.д)

## Инструментарий

+ Node 16
+ React JS 18
+ Typescript
+ Redux
+ Thunk
+ Middleware
+ SASS

Проект был создан при использовании [Create React App](https://github.com/facebook/create-react-app).

## Установка и запуск приложения

Для устанаовки и запуска рекомендуется использовать yarn:

+ `yarn`

Устанавиливает зависимости для приложения

+ `yarn start`

Запускает приложение в режиме разработчика\
Откройте [http://localhost:3000](http://localhost:3000) для просмотра в браузере.

+ `yarn build`

Собирает рабочую версию в папке `build`.\
Это полноценная версия, готовая к работе.
